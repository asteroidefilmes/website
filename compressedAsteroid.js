$(document).ready(function(){function e(e){$(".infowrappermobile").animate({scrollTop:0}),$(".lazydirector"+e+"mobile").trigger("imgloadingdirectormobile")}function i(e){$(".imagedirector").css("filter","grayscale(1)"),$(".imagedirector").css("-webkit-filter","grayscale(1)"),k.css("cursor","auto"),f.removeEventListener("click",i),k.off("mouseleave"),$("#Director"+(e.target.nDirector+1)+"Info").click(),$(".lazydirector"+(e.target.nDirector+1)+"desktop").trigger("imgloading"),u||$(".directorworkorbit").toggleClass("paused")}function t(){if(!(--z>0)){for(var e=0;e<w.length;e++){var i=w[e];i.hitArray=o(i.image)}f.width=p,f.height=y,n(w.length-1,v,w),$("#canvasdirector1").on("mousemove",function(e){r(e)}),v.clearRect(0,0,p,y)}}function o(e){var i=[];f.width=e.width,f.height=e.height,v.drawImage(e,0,0);for(var t=v.getImageData(0,0,f.width,f.height).data,o=0;o<t.length;o+=4)i.push(t[o+3]>250?1:0);return i}function r(e){e.preventDefault(),e.stopPropagation();var t=$(".canvasimagedirector.director1").offset(),o=t.left,r=t.top;mouseX=parseInt(e.clientX-o),mouseY=parseInt(e.clientY-r+$(window).scrollTop());var a,n=0,l=0,s=0,d=0;for(d=0;d<w.length;d++)if(a=w[d],n=mouseX-a.x,l=mouseY-a.y,n>0&&l>0&&n<=a.width&&l<=a.height&&(s=l*a.width+n)<a.hitArray.length-1&&a.hitArray[s]>0){b!=a.name&&c(d,w);break}for(d=0;d<w.length;d++)a=w[d],n=mouseX-a.x,l=mouseY-a.y,n>0&&l>0&&n<=a.width&&l<=a.height&&(s=l*a.width+n)<a.hitArray.length-1&&(a.hitArray[s]>0?(a.name,$(".imagedirector").css("filter","grayscale(1)"),$(".imagedirector").css("-webkit-filter","grayscale(1)"),$("#"+a.name).css("filter","grayscale(0)"),$("#"+a.name).css("-webkit-filter","grayscale(0)"),k.css("cursor","pointer"),$(".directorname").css("display","none"),$(".directorname"+(a.image.index+1)).css("display","block"),$(".directorname"+(a.image.index+1)).css("opacity","1"),f.addEventListener("click",i),f.nDirector=a.image.index,b=a.name):($(".imagedirector").css("filter","grayscale(1)"),$(".imagedirector").css("-webkit-filter","grayscale(1)"),k.css("cursor","auto"),f.removeEventListener("click",i),$(".directorname").css("display","none"),$(".directorname.default").css("display","block")))}function a(){$(".imagedirector").css("filter","grayscale(1)"),$(".imagedirector").css("-webkit-filter","grayscale(1)"),$(this).css("cursor","auto"),$(".directorname").css("display","none"),$(".directorname.default").css("display","block"),f.removeEventListener("click",i)}function n(e,i,t){for(var o,r=0;r<t.length;r++)(o=t[r]).width=o.image.width,o.height=o.image.height,i.drawImage(o.image,o.x,o.y)}function c(e,i){var t=i[i.length-1],o=i[e];i[e]=t,i[i.length-1]=o}$.get("https://freegeoip.net/json/",function(e){"US"==e.country_code?$(".menuschool").css("display","none"):$(".menuschool").css("display","flex"),"BR"==e.country_code?$("#contactLocale").val("PT-BR"):$("#contactLocale").val("ENG")},"jsonp"),navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&!navigator.userAgent.match("CriOS")&&$(".w-dyn-item.work").last().css("left","1px"),$("#WorkLink,#WorkLinkMobile,#WorkLinkMobile2,#StartupsLink,#StartupsLinkMobile,#StartupsLinkMobile2").on("click",function(){setTimeout(function(){$("html,body").trigger("scroll")},300)}),$(".lightbox.desktop").on("click",function(){videocontainer=$(this).find(".videocontainer"),videocontainer.html(videocontainer.html()),videocontainer.find("iframe").removeAttr("src")}),$(".lightboxclose").on("click",function(){videocontainer=$(this).next().find(".videocontainer"),videocontainer.html(videocontainer.html()),videocontainer.find("iframe").removeAttr("src")}),$(".herobutton.reel, .topreelplay").on("click",function(){var e=$(this).next().html();$("#MainIframe").attr("data-src","https://player.vimeo.com/video/"+e),$("#MainIframe").lazyLoadXT(),fbq("track","ViewContent"),ga("send","event","button","click","Reel")}),$(".herobutton.contact").on("click",function(){$(".buttonform").click(),fbq("track","Lead"),ga("send","event","button","click","SendContactForm")});var l=window,s=document,d=s.documentElement,m=s.getElementsByTagName("body")[0],g=l.innerWidth||d.clientWidth||m.clientWidth,h=$("#greyBackground").attr("src");if(g<=991)$(".lazyworkmobile, .lazydirector1mobile, .lazydirector2mobile, .lazydirector3mobile, .lazydirector4mobile, .lazydirector5mobile").each(function(){$(this).attr("data-original",$(this).css("background-image").replace(/^url\(['"]?/,"").replace(/['"]?\)$/,"")),$(this).css("background-image","url("+h+")")}),$(".lazyworkmobile").lazyload({skip_invisible:!0,threshold:50,effect:"fadeIn"}),$(".lazydirector1mobile, .lazydirector2mobile, .lazydirector3mobile, .lazydirector4mobile, .lazydirector5mobile").lazyload({event:"imgloadingdirectormobile",skip_invisible:!0,effect:"fadeIn"}),$(".workmobile").each(function(){var e=$(this).find(".thumbnailsize").html();1!=e&&$(this).find(".workwrapper.tablet").addClass("size"+e)}),$(".video1thumb, .video2thumb, .video3thumb, .video4thumb, .video5thumb").on("click",function(){var e=$(this).find(".vimeoid").html();$("#MainIframe").attr("data-src","https://player.vimeo.com/video/"+e),$("#MainIframe").lazyLoadXT()}),$("#Director1Mobile").on("click",function(){e(1)}),$("#Director2Mobile").on("click",function(){e(2)}),$("#Director3Mobile").on("click",function(){e(3)}),$("#Director4Mobile").on("click",function(){e(4)}),$("#Director5Mobile").on("click",function(){e(5)}),$(".workwrapper.mobile").on("click",function(){var e=$(this).siblings(".vimeoid").html();$("#MainIframe").attr("data-src","https://player.vimeo.com/video/"+e),$("#MainIframe").lazyLoadXT();var i=$(this).siblings(".videoname").html();ga("send","event","video","click",i+",Mobile")}),$(".directorsbutton").on("click",function(){$(".infowrappermobile").animate({scrollTop:0})});else{var u=navigator.userAgent.indexOf("Firefox")>-1;$(".lazywork, .lazyclientdesktop, .lazydirector1desktop, .lazydirector2desktop, .lazydirector3desktop, .lazydirector4desktop, .lazydirector5desktop").each(function(){$(this).attr("data-original",$(this).css("background-image").replace(/^url\(['"]?/,"").replace(/['"]?\)$/,"")),$(this).css("background-image","url("+h+")")}),$(".lazywork").lazyload({skip_invisible:!0,threshold:400,effect:"fadeIn"}),$(".lazyclientdesktop, .lazydirector1desktop, .lazydirector2desktop, .lazydirector3desktop, .lazydirector4desktop, .lazydirector5desktop").lazyload({event:"imgloading",skip_invisible:!0,effect:"fadeIn"}),$(".workdesktop").each(function(){var e=$(this).find(".thumbnailsize").html();1!=e&&$(this).find(".workwrapper, .workcontainer, .hoverthumb, .workthumboverlay").addClass("size"+e)}),$(".workwrapper.desktop").on("mouseenter",function(){u||$(this).find(".workcontainer.desktop").toggleClass("paused"),$(this).find(".orbit").toggleClass("paused"),$(this).find(".lazyclientdesktop").trigger("imgloading")}),$(".workwrapper.desktop").on("mouseleave",function(){u||$(this).find(".workcontainer.desktop").toggleClass("paused"),$(this).find(".orbit").toggleClass("paused")}),$(".video1overlay, .video2overlay, .video3overlay, .video4overlay, .video5overlay").on("click",function(){var e=$(this).find(".vimeoid").html();$("#MainIframe").attr("data-src","https://player.vimeo.com/video/"+e),$("#MainIframe").lazyLoadXT()}),$(".hoverthumb").on("click",function(){var e=$(this).parent().prev().html();$("#MainIframe").attr("data-src","https://player.vimeo.com/video/"+e),$("#MainIframe").lazyLoadXT();var i=$(this).parent().siblings(".videoname").html();ga("send","event","video","click",i+",Desktop")}),u&&($(".directorworkvideo").toggleClass("paused"),$(".directorworkorbit").toggleClass("paused")),$(".directorsbutton.desktop").on("click",function(){$(".directorname").css("display","none"),$(".directorname.default").css("display","block"),u||$(".directorworkorbit").toggleClass("paused"),k.on("mouseleave",function(){a()})});var f=document.getElementById("canvasdirector1"),v=f.getContext("2d");v.globalCompositeOperation="destination-in";var p=f.width,y=f.height,k=$("#canvasdirector1"),b="",w=[];w.push({name:"ImageDirector1",x:347,y:0,hitArray:[]}),w.push({name:"ImageDirector2",x:503,y:141,hitArray:[]}),w.push({name:"ImageDirector3",x:74,y:110,hitArray:[]}),w.push({name:"ImageDirector4",x:504,y:8,hitArray:[]}),w.push({name:"ImageDirector5",x:150,y:22,hitArray:[]});for(var z=w.length,I=0;I<w.length;I++){var x=w[I];x.image=document.getElementById(x.name),x.image.crossOrigin="anonymous",x.image.index=I,x.image.onload=t,x.image.src=x.image.src+"?"+(new Date).getTime()}k.on("mouseleave",function(){a()})}});
